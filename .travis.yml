#https://tex.stackexchange.com/questions/398830/how-to-build-my-latex-automatically-using-travis-ci
#https://github.com/harshjv/travis-ci-latex-pdf/blob/master/.travis.yml
#http://jankuester.com/using-travis-ci-latex-projects/
#https://mirocupak.com/continuous-integration-for-latex/
#https://github.com/thomastweets/cv-on-ghpages
#https://github.com/PHPirates/travis-ci-latex-pdf
#https://github.com/scottclowe/cv/blob/5763fbcaa8631b23f1bf729683a0fbc5b81d1e9b/.travis.yml
#https://github.com/scottkosty/install-tl-ubuntu

sudo: required

language: generic

branches:
  only:
    - master

before_install:  
  - wget https://github.com/scottkosty/install-tl-ubuntu/raw/master/install-tl-ubuntu 
  - chmod +x ./install-tl-ubuntu
  - sudo ./install-tl-ubuntu
  - export PATH="/opt/texbin:$PATH"
#   - sudo apt-get -qq update && sudo apt-get install -y --no-install-recommends texlive-full
  #texlive-base texlive-latex-base  texlive-latex-recommended texlive-latex-extra texlive-fonts-recommended texlive-fonts-extra dvipng

script:
  - mkdir _build
  - pdflatex -interaction=nonstopmode -halt-on-error -output-directory _build latex/ManasTalukdar.tex
  - pdflatex -interaction=nonstopmode -halt-on-error -output-directory _build latex/ManasTalukdar_CV.tex
  - pdflatex -interaction=nonstopmode -halt-on-error -output-directory _build latex/ManasTalukdar_vNext.tex

#https://caveofcode.com/2017/05/publish-an-angular-app-to-github-pages/
deploy:
  provider: pages
  skip-cleanup: true
  github-token: $GITHUB_TOKEN
  keep-history: true
  local-dir: website
  on:
    branch: master
  target-branch: gh-pages